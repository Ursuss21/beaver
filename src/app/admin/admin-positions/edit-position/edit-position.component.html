<div class="card">
  <div class="header">
    <div class="title">
      <span class="material-icons-outlined">work_outline</span>
      <h2>Position</h2>
    </div>
  </div>
  <div
    *ngIf="position"
    class="card-content view-form">
    <div class="header">
      <div class="title">
        <h4>
          {{ position.name }}
        </h4>
      </div>
      <bvr-button
        (click)="openArchiveModal()"
        icon="archive"
        styleClass="button-icon"></bvr-button>
    </div>
    <div
      class="form"
      [formGroup]="editPositionForm">
      <bvr-form-field
        label="Position Name"
        [required]="isRequired(controls.name)">
        <input
          formControlName="name"
          type="text" />
        <bvr-error
          class="error"
          [control]="controls.name"></bvr-error>
      </bvr-form-field>
      <bvr-form-field
        label="Position Description"
        [required]="isRequired(controls.description)">
        <textarea formControlName="description"></textarea>
        <bvr-error
          class="error"
          [control]="controls.description"></bvr-error>
      </bvr-form-field>
    </div>

    <div class="form-buttons">
      <bvr-button
        class="form-button"
        (click)="openCancelModal(false)"
        label="Cancel"
        styleClass="button-text"></bvr-button>
      <bvr-button
        class="form-button"
        (click)="openSaveModal()"
        label="Save"></bvr-button>
    </div>
  </div>
</div>

<bvr-modal
  (confirm)="archive($event)"
  confirmLabel="Archive"
  [description]="modalDescription"
  [title]="'Archive position'"
  [(visible)]="isArchiveModalOpen"></bvr-modal>
<bvr-modal
  (confirm)="cancel($event)"
  confirmLabel="Leave"
  [description]="modalDescription"
  [title]="'Leave'"
  [(visible)]="isCancelModalOpen"></bvr-modal>
<bvr-modal
  (confirm)="save($event)"
  confirmLabel="Save"
  [description]="modalDescription"
  [title]="'Save changes'"
  [(visible)]="isSaveModalOpen"></bvr-modal>

<bvr-toast></bvr-toast>
