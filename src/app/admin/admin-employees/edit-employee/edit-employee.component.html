<div class="card">
  <div class="header">
    <div class="title">
      <h2 class="name">Edit employee</h2>
    </div>
    <bvr-tabs [hasRouting]="false" [navbarOptions]="navbarOptions" [selectedIndex]="tabIndex"
      (selectedIndexChange)="updateTabIndex($event)"></bvr-tabs>
  </div>
  <div class="card-body view-employee">
    <div class="header">
      <div class="name">
        <img [src]="account.image" class="picture" />
        <h4>
          {{ account.firstName }}
          {{ account.lastName }}
        </h4>
      </div>
      <bvr-button (click)="openArchiveModal()" icon="archive" styleClass="button-icon"></bvr-button>
    </div>

    <div [@tabs]="tabIndex" class="view-employee-content">
      <bvr-edit-personal-info *ngIf="tabIndex === 0" [editEmployeeForm]="editEmployeeForm"></bvr-edit-personal-info>
      <bvr-edit-address-info *ngIf="tabIndex === 1" [editEmployeeForm]="editEmployeeForm"></bvr-edit-address-info>
      <bvr-edit-employment-info *ngIf="tabIndex === 2" [editEmployeeForm]="editEmployeeForm"></bvr-edit-employment-info>
      <bvr-edit-account-info *ngIf="tabIndex === 3" [editEmployeeForm]="editEmployeeForm"></bvr-edit-account-info>
    </div>

    <div class="form-buttons">
      <bvr-button class="form-button" (click)="openCancelModal()" label="Cancel" styleClass="button-text"></bvr-button>
      <bvr-button class="form-button" (click)="openSaveModal()" label="Save"></bvr-button>
    </div>
  </div>
</div>

<bvr-modal (confirm)="archive()" confirmLabel="archive" [description]="modalDescription" [title]="'Archive employee'"
  [(visible)]="isArchiveModalOpen"></bvr-modal>
<bvr-modal (confirm)="cancel()" confirmLabel="Leave" [description]="modalDescription" [title]="'Leave'"
  [(visible)]="isCancelModalOpen"></bvr-modal>
<bvr-modal (confirm)="save()" confirmLabel="Save" [description]="modalDescription" [title]="'Save changes'"
  [(visible)]="isSaveModalOpen"></bvr-modal>

<bvr-toast></bvr-toast>